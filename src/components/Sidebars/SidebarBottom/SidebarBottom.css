/* ===================================================
   1. ESTRUCTURA DEL SIDEBAR INFERIOR
=================================================== */

/* 
   Contenedor principal del sidebar inferior.
   - Fijo en la parte inferior de la pantalla.
   - Se extiende a lo largo de toda la pantalla.
   - Contiene los elementos de navegación de capítulos.
*/
.sidebar-bottom {
    position: fixed; /* Permanece fijo en la parte inferior */
    bottom: 0;
    left: 0;
    width: 100%; /* Ocupa todo el ancho de la pantalla */
    display: flex;
    justify-content: center; /* Centra los ítems horizontalmente */
    align-items: flex-start; /* Alinea los ítems verticalmente al inicio */
    gap: 10px; /* Espaciado entre los capítulos */
    z-index: 1000; /* Asegura que esté por encima de otros elementos */
}

/* ===================================================
   2. ESTILOS DE LOS ÍTEMS DEL SIDEBAR
=================================================== */

/* 
   Ítems de navegación dentro del sidebar.
   - Son los bloques individuales que representan cada capítulo.
   - Incluyen el número romano, icono y contenido del capítulo.
*/
.sidebar-bottom-item {
    position: relative; /* Permite posicionar elementos internos */
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    cursor: pointer; /* Permite interacción con clics */
    width: 100px; /* Ancho base del ítem */
    padding: 10px; /* Espaciado interno */
    background: linear-gradient(
        to top,
        rgba(var(--cyan-rgb), 0.1),
        rgba(var(--screamin-green-rgb), 0.1),
        rgba(var(--screamin-green-rgb), 0)
    );
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* Transiciones suaves al hacer hover */
    overflow: hidden; /* Evita que los elementos internos se desborden */
}

/* Altura para ítems con imagen */
.sidebar-bottom-item.with-image {
    height: 200px; /* Ajusta según sea necesario */
}

/* Altura para ítems sin imagen */
.sidebar-bottom-item.without-image {
    height: 120px; /* Ajusta según sea necesario */
}

/* 
   Efecto de expansión al pasar el mouse sobre los ítems.
   - El bloque crece para revelar más información.
   - El fondo cambia a un degradado más intenso.
*/
.sidebar-bottom-item:hover {
    background: linear-gradient(
      to top,
      rgba(var(--screamin-green-rgb), 0.5) 33.33%,
      rgba(var(--cyan-rgb), 0.25) 66.66%,
      rgba(var(--cyan-rgb), 0) 100%
    );
    width: 240px; /* Aumenta el tamaño horizontal */
}

/* ===================================================
   3. NÚMERO ROMANO E ÍCONO
=================================================== */

/* 
   Contenedor del número romano y el icono de navegación.
   - Se sitúa en la parte superior del ítem.
   - Ambos elementos están siempre visibles hasta que se active el hover.
*/
.sidebar-bottom-overlay {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    height: 100%;
}

/* 
   Número romano del capítulo.
   - Se mantiene visible hasta que el usuario interactúe con el ítem.
*/
.sidebar-bottom-number {
    font-size: 18px;
    font-weight: bold;
}

/* 
   Icono de flecha indicando navegación.
   - Se mantiene visible por defecto.
*/
.sidebar-bottom-icon {
    font-size: 32px;
}

/* 
   Efecto hover sobre el overlay:
   - El número romano y el icono desaparecen al hacer hover.
   - Se ocultan para mostrar la imagen SVG y el contenido del capítulo.
*/
.sidebar-bottom-overlay:hover {
    opacity: 0;
}

/* ===================================================
   4. IMAGEN SVG Y TEXTO (OCULTOS POR DEFECTO)
=================================================== */

/* 
   Imagen SVG representando la silueta del capítulo.
   - Oculta por defecto.
   - Aparece solo cuando el usuario pasa el mouse sobre el ítem.
   - Se posiciona en el centro del bloque expandido.
*/
.sidebar-bottom-item img {
    position: absolute;
    top: 40%;
    left: 50%;
    transform: translate(-50%, -50%); /* Centra la imagen */
    max-width: 100%; /* Evita que la imagen sobrepase el bloque */
    max-height: 100%; /* Mantiene proporciones */
    width: auto;
    height: auto;
    opacity: 0; /* Oculta la imagen inicialmente */
    object-fit: contain; /* Se ajusta sin recortar */
    transition: opacity 0.5s ease-in-out; /* Transición suave de aparición */
    shape-rendering: geometricPrecision;
    image-rendering: optimizeQuality;
}

/* 
   Texto del capítulo.
   - Oculto por defecto.
   - Aparece cuando el usuario interactúa con el bloque.
*/
.sidebar-bottom-text {
    position: absolute;
    bottom: 10px;
    left: 0;
    width: 100%;
    text-align: center;
    font-size: 18px;
    color: white;
    opacity: 0; /* Inicialmente oculto */
    transition: opacity 0.5s ease-in-out;
}

/* ===================================================
   5. EFECTOS HOVER PARA REVELAR CONTENIDO
=================================================== */

/* 
   Al hacer hover en el ítem:
   - La imagen SVG se vuelve visible.
*/
/* Oculta overlay al hacer hover en el ITEM (no en el overlay) */
.sidebar-bottom-item:hover .sidebar-bottom-overlay {
    opacity: 0;
    transition: opacity 0.5s ease-in-out;
}

/* 
   Al hacer hover en el ítem:
   - El texto del capítulo se muestra.
*/
/* Revela contenido con timing diferente */
.sidebar-bottom-item:hover img,
.sidebar-bottom-item:hover .sidebar-bottom-text {
    opacity: 1;
    transition: opacity 0.5s ease-in-out 0.1s; /* Retraso para efecto escalonado */
}

/* Movimiento flotante para la imagen SVG */
@keyframes float {
  0% { transform: translate(-50%, -50%) translateY(0px); }  /* Posición inicial */
  50% { transform: translate(-50%, -50%) translateY(10px); }  /* Flotación hacia arriba */
  100% { transform: translate(-50%, -50%) translateY(0px); }  /* Regreso a la posición inicial */
}

.sidebar-bottom-item:hover img {
  animation: float 3s ease-in-out infinite;  /* Animación de flotación */
}

/* ===================================================
  6. EFECTOS BLINK ESCALONADOS
=================================================== */

/* Onda luminosa ascendiendo y desapareciendo completamente */
.sidebar-bottom-item::before {
  content: '';
  position: absolute;
  bottom: -120%; /* Inicia fuera de la vista */
  left: 0;
  width: 100%;
  height: 80%; /* Se extiende más para un efecto gradual */
  
  background: linear-gradient(
    to top, /* Dirección de la onda luminosa de abajo hacia arriba */
    transparent 0%, /* Invisible al inicio */
    rgba(var(--cyan-rgb), 0.15) 40%, /* Suave al inicio */
    rgba(var(--cyan-rgb), 0.18) 60%, /* Máxima intensidad en el centro */
    rgba(var(--cyan-rgb), 0.15) 80%, /* Comienza a suavizar */
    transparent 100% /* Se desvanece completamente al final */
  );
  
  opacity: 0; /* Inicia invisible */
  animation: light-wave 6s ease-in-out infinite;
  pointer-events: none; /* Evita interferencias en el hover */

}

@keyframes light-wave {
  0% { bottom: 0; opacity: 0; }
  25% { bottom: 10%; opacity: 1; } /* Máxima visibilidad en el centro */
  50% { bottom: 15%; opacity: 0; } /* Se desvanece suavemente */
  75% { bottom: 20%; opacity: 0; } /* Desaparece completamente */
  100% { opacity: 0; }
}

/* Evitar que la onda afecte cuando el usuario hace hover */
.sidebar-bottom-item:hover::before {
  opacity: 0 !important; /* Oculta la onda luminosa durante el hover */
}

.sidebar-bottom,
.sidebar-bottom * {
  user-select: none; /* Bloquea la selección de texto */
  -webkit-user-select: none; /* Safari */
  -moz-user-select: none; /* Firefox */
  -ms-user-select: none; /* IE/Edge */
}